catalog: ygg
schema: catalog
entity: api_versions
entity-type: table

description: > 
  Table normalization to manage different ODCS API versions.
  This implementation extends the Open Data Contract Standard (ODCS) v3.1.0 for its physical implementation.
authoritative_definitions:
  - url: file://{_DOCS_FOLDER_}/ygg/catalog/api_version{_YGG_DOC_EXTENSION_}
    type: Data Catalog Report
    description: API Versions Data Catalog Report.
    id: null
  - url: https://github.com/bitol-io/open-data-contract-standard/releases/tag/v3.1.0
    type: GITHUB
    description: GitHub direct link to ODCS v3.1.0 Release.
    id: null

properties:

  - logical_implementation:
      property_name: api_version
      description: Open Data Contract Standard Version.
      data_type: string
      required: true
      alias: apiVersion
      title: API Version
      literal: null
    physical_implementation:
      column_name: api_version
      description: Open Data Contract Standard Version.
      data_type: string
      required: true
      size: 10
      precision: null
      constraints:
        primary_key: true
        primary_key_position: 1
    examples:
      - v3.1.0

  - logical_implementation:
      property_name: version
      data_type: string
      title: Version
      coerce_numbers_to_str: true
      description: Open Data Contract Standard Version using semantic versioning.
      literal: null
      required: true
    physical_implementation:
      column_name: version
      description: Open Data Contract Standard Version using semantic versioning.
      data_type: string
      size: 10
      precision: null
      required: true
    examples:
      - "3.1.0"

  - logical_implementation:
      property_name: status
      title: Status
      data_type: string
      description: Defines the status of the API version, if it refers to a released version or a work in progress version.
      literal:
        - released
        - release-candidate
        - beta
        - draft
    physical_implementation:
      column_name: status
      description: Defines the status of the API version, if it refers to a released version or a work in progress version.
      data_type: string
      size: 24
      precision: null
    examples:
      - released
      - release-candidate
      - beta
      - draft

data:
  greenfield:
    - apiVersion: v3.1.0
      version: 3.1.0
      status: released
    - apiVersion: v3.1.0-rc1
      version: 3.1.0-rc1
      status: release-candidate
    - apiVersion: v2.2.2
      version: 2.2.2
      status: beta

  brownfield:
    - apiVersion: v3.1.0
      version: 3.2.0  # brownfield value
      status: released
    - apiVersion: v3.1.0-rc1
      version: 3.1.0-rc1
      status: release-candidate
    - apiVersion: v2.2.2
      version: v2.2.2  # brownfield value
      status: beta
